---
title : 'LeetCode Hot 100 ç²¾ç»ƒðŸ¥¸(2)'
date : 2024-12-08T15:37:01+08:00
lastmod: 2024-12-08T15:37:01+08:00
description : "LeetCode Hot 100 ç²¾ç»ƒðŸ¥¸(2)" 
categories : ["LeetCode"]
tags : ["LeetCodeç¬”è®°"]
---

# LeetCode Hot 100 ç²¾ç»ƒðŸ¥¸(2)

è®°å¿†ä¸­çš„ä¸œè¥¿ä¸€å®šä¼šæ¶ˆé€€ï¼ŒçœŸæ­£ç•™ä¸‹çš„æ‰æ˜¯å­¦åˆ°çš„ï¼Œä¸€å®šè¦åŠæ—¶å›žé¡¾ã€‚

## [215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-an-array/)

### é¢˜ç›®å¤§æ„ï¼š

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œè¦æ±‚è¿”å›žæ•°ç»„ä¸­æŽ’åºåŽçš„ç¬¬ `k` ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚

### æ€è·¯åˆ†æžï¼š

1. **å¿«é€Ÿé€‰æ‹©ç®—æ³•**ï¼š
   - è¯¥é¢˜çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨å¿«é€ŸæŽ’åºçš„æ€æƒ³ï¼Œé€šè¿‡**åˆ†æ²»**çš„æ–¹å¼æ¥æ‰¾åˆ°ç¬¬ `k` ä¸ªæœ€å¤§å…ƒç´ ã€‚ä¼ ç»Ÿçš„å¿«é€ŸæŽ’åºæ—¶é—´å¤æ‚åº¦æ˜¯ O(n log n)ï¼Œä½†é€šè¿‡æ”¹é€ å¿«é€ŸæŽ’åºæˆ**å¿«é€Ÿé€‰æ‹©ç®—æ³•**ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦é™ä½Žåˆ° O(n)ï¼Œä»Žè€Œæ»¡è¶³é¢˜ç›®çš„è¦æ±‚ã€‚
2. **ç®—æ³•æ­¥éª¤**ï¼š
   - **é€‰æ‹©æž¢çº½å…ƒç´ **ï¼šé€‰æ‹©æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ä½œä¸ºæž¢çº½ï¼ˆé€šå¸¸æ˜¯æ•°ç»„çš„ä¸­é—´å…ƒç´ ï¼‰ã€‚
   - **åˆ†åŒº**ï¼šå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†æ‰€æœ‰å…ƒç´ éƒ½å¤§äºŽç­‰äºŽæž¢çº½ï¼Œå¦ä¸€éƒ¨åˆ†æ‰€æœ‰å…ƒç´ éƒ½å°äºŽæž¢çº½ã€‚
   - **é€’å½’æŸ¥æ‰¾**ï¼šå¦‚æžœ `k` æ¯”è¾ƒæŽ¥è¿‘å³åŠéƒ¨åˆ†çš„å…ƒç´ ï¼Œåˆ™åœ¨å³åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ï¼›å¦‚æžœ `k` æ¯”è¾ƒæŽ¥è¿‘å·¦åŠéƒ¨åˆ†çš„å…ƒç´ ï¼Œåˆ™åœ¨å·¦åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ã€‚
3. **å®žçŽ°æ­¥éª¤**ï¼š
   - åœ¨æ¯æ¬¡åˆ’åˆ†åŽï¼Œé€šè¿‡æ¯”è¾ƒ `k` çš„ä½ç½®æ¥å†³å®šç»§ç»­å¤„ç†å“ªä¸€éƒ¨åˆ†ã€‚
   - å½“æ‰¾åˆ°çš„å…ƒç´ åˆšå¥½æ˜¯ç¬¬ `k` ä¸ªæœ€å¤§çš„å…ƒç´ æ—¶ï¼Œè¿”å›žè¯¥å…ƒç´ ã€‚

```py
class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        def qs(q, l, r, k):
            if l >= r:
                return 

            i, j, x = l - 1, r + 1, q[l + r >> 1]
            while i < j:
                i += 1
                while q[i] < x:
                    i += 1
                
                j -= 1
                while q[j] > x:
                    j -= 1
                
                if i < j:
                    q[i], q[j] = q[j], q[i]
            
            if j < k:
                qs(q, j + 1, r, k)
            else:
                qs(q, l, j, k)

            # qs(q, i, j, k)
            # qs(q, j + 1, r, k)
        
        n = len(nums)
        k = n - k # n - 1 - k + 1
        qs(nums, 0, n - 1, k)
        
        return nums[k]
```



## [208. å®žçŽ° Trie (å‰ç¼€æ ‘)](https://leetcode.cn/problems/implement-trie-prefix-tree/)

### é¢˜ç›®å¤§æ„ï¼š

å®žçŽ°ä¸€ä¸ª **Trieï¼ˆå‰ç¼€æ ‘ï¼‰** æ•°æ®ç»“æž„ï¼Œå®ƒæ”¯æŒä»¥ä¸‹ä¸‰ç§æ“ä½œï¼š

1. `insert(String word)`ï¼šå‘å‰ç¼€æ ‘ä¸­æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸² `word`ã€‚
2. `search(String word)`ï¼šæ£€æŸ¥å­—ç¬¦ä¸² `word` æ˜¯å¦å·²ç»å­˜åœ¨äºŽå‰ç¼€æ ‘ä¸­ã€‚
3. `startsWith(String prefix)`ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å·²æ’å…¥çš„å­—ç¬¦ä¸²ä»¥ `prefix` ä½œä¸ºå‰ç¼€ã€‚

### æ€è·¯åˆ†æžï¼š

1. **æ•°æ®ç»“æž„é€‰æ‹©**ï¼š
   - ä½¿ç”¨å­—å…¸ï¼ˆ`dict`ï¼‰æ¥è¡¨ç¤ºå‰ç¼€æ ‘çš„èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„é”®æ˜¯å­—ç¬¦ï¼Œå€¼æ˜¯ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼ˆå¦‚ `'#'`ï¼‰æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“æŸã€‚
2. **æ’å…¥æ“ä½œ (`insert`)**ï¼š
   - ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€ä¸ªå­—ç¬¦æ£€æŸ¥è¯¥å­—ç¬¦æ˜¯å¦å­˜åœ¨äºŽå½“å‰èŠ‚ç‚¹çš„å­—å…¸ä¸­ã€‚å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°çš„èŠ‚ç‚¹ã€‚
   - å½“å­—ç¬¦ä¸²éåŽ†å®Œæ¯•æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼ˆä¾‹å¦‚ `'#'`ï¼‰æ¥æ ‡è®°è¯¥èŠ‚ç‚¹ä¸ºä¸€ä¸ªå®Œæ•´å•è¯çš„ç»“å°¾ã€‚
3. **æŸ¥æ‰¾æ“ä½œ (`search`)**ï¼š
   - ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€ä¸ªå­—ç¬¦æŸ¥æ‰¾ï¼Œè‹¥ä»»æ„å­—ç¬¦ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ž `False`ã€‚
   - å¦‚æžœæŸ¥æ‰¾åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹æœ‰ `'#'` æ ‡è®°ï¼Œåˆ™è¿”å›ž `True`ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²å·²ç»æ’å…¥ã€‚
4. **å‰ç¼€æŸ¥æ‰¾æ“ä½œ (`startsWith`)**ï¼š
   - ç±»ä¼¼ `search`ï¼Œä½†ä¸éœ€è¦åˆ¤æ–­æ˜¯å¦åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ï¼Œåªè¦èƒ½å¤ŸéåŽ†å®Œå‰ç¼€å³å¯ã€‚

```py
class Trie:
    def __init__(self):
        self.trie = {}

    def insert(self, word: str) -> None:
        cur = self.trie
        for ch in word:
            if ch not in cur:
                cur[ch] = {}
            cur = cur[ch]
        cur['#'] = True

    def search(self, word: str) -> bool:
        cur = self.trie
        for ch in word:
            if ch not in cur:
                return False
            cur = cur[ch]
        return cur['#'] if '#' in cur else False

    def startsWith(self, prefix: str) -> bool:
        cur = self.trie
        for ch in prefix:
            if ch not in cur:
                return False
            cur = cur[ch]
        return True
```

## [146. LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/)

### é¢˜ç›®å¤§æ„ï¼š

è®¾è®¡å¹¶å®žçŽ°ä¸€ä¸ªæ”¯æŒ LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç¼“å­˜çš„æ•°æ®ç»“æž„ï¼Œè¯¥ç¼“å­˜å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

- `get(key)`ï¼šå¦‚æžœå…³é”®å­— `key` å­˜åœ¨äºŽç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›žå…¶å¯¹åº”çš„å€¼ï¼›å¦åˆ™ï¼Œè¿”å›ž -1ã€‚
- `put(key, value)`ï¼šå°† `key` ä¸Ž `value` å­˜å…¥ç¼“å­˜ã€‚å¦‚æžœç¼“å­˜å®¹é‡å·²æ»¡ï¼Œåˆ™åˆ é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„å…ƒç´ ã€‚

è¦æ±‚ï¼š

- `get` å’Œ `put` æ“ä½œéƒ½å¿…é¡»åœ¨ **O(1)** çš„å¹³å‡æ—¶é—´å¤æ‚åº¦å†…å®Œæˆã€‚

### æ€è·¯åˆ†æžï¼š

LRU ç¼“å­˜è¦æ±‚æœ€è¿‘è®¿é—®çš„å…ƒç´ ä¿æŒåœ¨ç¼“å­˜ä¸­ï¼Œè€Œæœ€ä¹…æœªè®¿é—®çš„å…ƒç´ è¢«æ·˜æ±°ã€‚ä¸ºäº†å®žçŽ°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª **åŒå‘é“¾è¡¨** å’Œä¸€ä¸ª **å“ˆå¸Œè¡¨**ã€‚

#### æ•°æ®ç»“æž„è®¾è®¡ï¼š

1. **åŒå‘é“¾è¡¨**ï¼š
   - åŒå‘é“¾è¡¨çš„èŠ‚ç‚¹åŒ…å« `key` å’Œ `value`ã€‚
   - ç»´æŠ¤ä¸¤ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œ`head`ï¼ˆå¤´éƒ¨ï¼‰å’Œ `tail`ï¼ˆå°¾éƒ¨ï¼‰ã€‚`head` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æœ€å…ˆè®¿é—®çš„èŠ‚ç‚¹ï¼Œè€Œ `tail` çš„å‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æœ€è¿‘è®¿é—®çš„èŠ‚ç‚¹ã€‚
   - å½“ä¸€ä¸ªèŠ‚ç‚¹è¢«è®¿é—®æˆ–æ’å…¥æ—¶ï¼Œå®ƒä¼šè¢«ç§»åŠ¨åˆ°é“¾è¡¨çš„å¤´éƒ¨ï¼›å½“ç¼“å­˜æ»¡æ—¶ï¼Œæˆ‘ä»¬ä¼šç§»é™¤å°¾éƒ¨çš„èŠ‚ç‚¹ï¼ˆæœ€ä¹…æœªä½¿ç”¨ï¼‰ã€‚
2. **å“ˆå¸Œè¡¨**ï¼š
   - å“ˆå¸Œè¡¨ç”¨äºŽå­˜å‚¨ç¼“å­˜çš„ `key` å’Œå¯¹åº”çš„èŠ‚ç‚¹ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ `key` å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶è¿›è¡Œ O(1) çš„æ“ä½œã€‚

#### ä¸»è¦æ“ä½œï¼š

1. **get(key)**ï¼š
   - æŸ¥æ‰¾å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥ `key`ã€‚å¦‚æžœå­˜åœ¨ï¼Œå°†å¯¹åº”çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨çš„å¤´éƒ¨ï¼Œå¹¶è¿”å›žå…¶å€¼ã€‚å¦‚æžœä¸å­˜åœ¨ï¼Œè¿”å›ž -1ã€‚
2. **put(key, value)**ï¼š
   - å¦‚æžœ `key` å·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°èŠ‚ç‚¹çš„å€¼å¹¶å°†å…¶ç§»åˆ°é“¾è¡¨å¤´éƒ¨ã€‚
   - å¦‚æžœ `key` ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹å¹¶æ’å…¥é“¾è¡¨å¤´éƒ¨ã€‚å¦‚æžœç¼“å­˜å·²æ»¡ï¼Œç§»é™¤å°¾éƒ¨èŠ‚ç‚¹ã€‚

```py
class DoubleLinkedList:
    def __init__(self, key = 0, value = 0):
        self.key = key
        self.value = value

        self.pre = None
        self.next = None

class LRUCache:

    def __init__(self, capacity: int):
        self.capacity = capacity
        self.size = 0
        self.cache = dict()

        self.head = DoubleLinkedList()
        self.tail = DoubleLinkedList()
        self.head.next = self.tail
        self.tail.pre = self.head

    def get(self, key: int) -> int:
        if key not in self.cache:
            return -1
        node = self.cache[key]
        self.moveToHead(node)
        return node.value

    def put(self, key: int, value: int) -> None:
        if key in self.cache:
            node = self.cache[key]
            node.value = value
            self.moveToHead(node)
        else:
            node = DoubleLinkedList(key, value)
            self.cache[key] = node
            if self.size < self.capacity:
                self.size += 1
            else:
                tail = self.removeTail()
                del self.cache[tail.key]
            self.addToHead(node)

        
    def removeNode(self, node):
        node.next.pre = node.pre
        node.pre.next = node.next
    
    def addToHead(self, node):
        node.next = self.head.next
        node.pre = self.head
        self.head.next.pre = node
        self.head.next = node
        
    def moveToHead(self, node):
        self.removeNode(node)
        self.addToHead(node)
    
    def removeTail(self):
        node = self.tail.pre
        self.removeNode(node)
        return node
```

## [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode.cn/problems/binary-tree-maximum-path-sum/)

### é¢˜ç›®å¤§æ„ï¼š

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œè¦æ±‚æ‰¾å‡ºå…¶ä¸­è·¯å¾„çš„æœ€å¤§å’Œã€‚è·¯å¾„å¯ä»¥ç»è¿‡ä»»æ„èŠ‚ç‚¹ï¼Œä½†æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ã€‚è·¯å¾„çš„å®šä¹‰æ˜¯ä»Žä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è¿žç»­è·¯å¾„ï¼Œè·¯å¾„å’Œæ˜¯è·¯å¾„ä¸­æ‰€æœ‰èŠ‚ç‚¹å€¼çš„å’Œã€‚

### å®žçŽ°æ€è·¯ï¼š

1. **DFSéåŽ†ï¼š** é‡‡ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS) æ¥éåŽ†äºŒå‰æ ‘ï¼Œè®¡ç®—ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„è·¯å¾„å’Œã€‚
2. **é€’å½’çš„è¿”å›žå€¼ï¼š** å¯¹æ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å…¶åŒ…å«å·¦å­æ ‘å’Œå³å­æ ‘çš„æœ€å¤§è´¡çŒ®å€¼ã€‚ä¸ºäº†è®¡ç®—æœ€å¤§è·¯å¾„å’Œï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š
   - **è·¯å¾„å’Œ**ï¼šèŠ‚ç‚¹è‡ªèº«çš„å€¼åŠ ä¸Šå…¶å·¦æˆ–å³å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œã€‚
   - **è·¯å¾„é€šè¿‡å½“å‰èŠ‚ç‚¹**ï¼šè€ƒè™‘ä»Žå½“å‰èŠ‚ç‚¹å‡ºå‘ï¼Œå·¦å­æ ‘ã€å³å­æ ‘éƒ½å‚ä¸Žçš„è·¯å¾„ã€‚
3. **æœ€å¤§è·¯å¾„å’Œçš„æ›´æ–°ï¼š** é€’å½’è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ `res`ï¼Œè®°å½•å½“å‰æœ€å¤§çš„è·¯å¾„å’Œã€‚å¯¹äºŽæ¯ä¸ªèŠ‚ç‚¹ï¼Œè®¡ç®—å…¶é€šè¿‡å·¦å­æ ‘å’Œå³å­æ ‘çš„è·¯å¾„å’Œï¼Œç„¶åŽæ›´æ–° `res`ã€‚
4. **é€’å½’è¿”å›žï¼š** æ¯æ¬¡é€’å½’è¿”å›žçš„æ˜¯â€œå½“å‰èŠ‚ç‚¹åŠå…¶å·¦å³å­æ ‘è·¯å¾„çš„æœ€å¤§å’Œâ€ï¼Œå³ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶çˆ¶èŠ‚ç‚¹çš„è·¯å¾„å’Œã€‚

```py
class Solution:
    def maxPathSum(self, root: Optional[TreeNode]) -> int:
        res = -inf
        def dfs(r):
            if not r:
                return 0 
            nonlocal res 
            d1 = dfs(r.left)
            d2 = dfs(r.right)

            cur = max(r.val, r.val + max(d1, d2))
            res = max(res, cur, r.val + d1 + d2)

            return cur
        
        dfs(root)

        return res
```

